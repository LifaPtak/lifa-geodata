<style>
    #liste .fusion-text{
        transition: 0.5s ease-in-out;
        padding-left: 5px;
        padding-right: 5px;
        border-radius: 6px;
    }
</style>


<Script defer>
    const liste = document.getElementById("liste");
    const boxes = liste.getElementsByClassName("fusion-text");
    const posts = liste.getElementsByTagName("li");
	const alpha = document.getElementById("alpha");
    const buttons = alpha.getElementsByTagName("span");
    const butlinks = alpha.getElementsByTagName("a");
    const fields = document.getElementsByClassName("fusion-form-input");
	const forms = document.getElementsByTagName("form");
    
    let textarr = [...posts].map(post => [...post.classList, post.innerText].map(clean))

    alphacheck();

    function filter(){
        for(const box of boxes){
            box.style.display = "none";
        }
      
        let input = [];
        for(let field of fields){
            let add = clean(field.value).split(/[, ]+/);
            input = input.concat(add);
        }
      
        for(let i = 0, l = posts.length; i < l; i++){
            if(check(textarr[i], input) !== 0){
                posts[i].style.display = "none";
            }else{
                posts[i].style.display = "list-item";
                posts[i].parentElement.parentElement.style.display = "block";
            }
        }
        alphacheck();
    }

function alphacheck(){
    for(const button of buttons){
        button.style.color = "#0033664D"
        button.parentElement.style.pointerEvents = "none";
    } 
  
    for(const box of boxes){
        if(getComputedStyle(box).getPropertyValue("display") == "block"){
            const letter = box.innerText.charAt(0).toLowerCase().charCodeAt(0) - 96;
            if(letter < 1){
                    buttons[0].style.color = "#003366"
                    buttons[0].parentElement.style.pointerEvents = "auto"
                }else{
                    buttons[letter].style.color = "#003366"
                    buttons[letter].parentElement.style.pointerEvents = "auto"
                }
            }
        }
    }

    function clean(str){
        return(str.toLowerCase().replace(/[/:.]/g, ""));
    }

    function check(arr, inps){
        let num = 0;
        for(const inp of inps){
            if(arr.filter(text => text.includes(inp)).length == 0){
                num++;
            }
        }
        return(num);
    }

    for(const field of fields){
        field.addEventListener("keyup", filter);
        field.addEventListener("change", filter);
    }

    function highlight() {
        const input = ("filter" + (this.innerText).replace(/#/g, "num")).toLowerCase();
        const list = document.getElementById(input).nextSibling;
        list.style.backgroundColor = "#8fd0d6";
        setTimeout(function endhigh() {
            list.style.backgroundColor = "rgba(255, 255, 255, 0)";
        }, 1000);
    }

    for(const but of butlinks){
        but.addEventListener("click", highlight);
    }

    for(const form of forms){
        form.addEventListener('submit', function(event) {
            event.preventDefault();
        });
    }
</Script>